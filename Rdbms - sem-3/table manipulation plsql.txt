DECLARE
REC_ACCOUNT ACCOUNT%ROWTYPE;
REC_TRANS TRANSACTION%ROWTYPE;
V_AMOUNT TRANSACTION.AMOUNT%TYPE;
BEGIN
SELECT*INTO REC_ACCOUNT FROM ACCOUNT
WHERE ACCNO=&ACCOUNT_NUMBER;
V_AMOUNT:=&AMOUNT_WITHDRAW;
IF REC_ACCOUNT.BALANCE-V_AMOUNT<500
THEN
DBMS_OUTPUT.PUT_LINE('INSUFFICIENT BALANCE');
ELSE
UPDATE ACCOUNT SET BALANCE=BALANCE-V_AMOUNT
WHERE ACCNO=REC_ACCOUNT.ACCNO; 
INSERT INTO TRANSACTION VALUES(1212,SYSDATE,V_AMOUNT,'W',REC_ACCOUNT.ACCNO); 
END IF;
END;
/