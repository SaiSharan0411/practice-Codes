CREATE OR REPLACE TRIGGER TR_UPDATE_EMPSAL
BEFORE UPDATE ON SALARY
FOR EACH ROW
DECLARE
  USERNAME VARCHAR(30);
  BEGIN
    SELECT USER INTO USERNAME FROM USER_TABLES WHERE TABLE_NAME='SALARY';
    INSERT INTO UPDATED_EMPLOYEE VALUES
(:OLD.EMPNO,:OLD.BASIC_PAY,:NEW.BASIC_PAY,USERNAME,SYSDATE());
  END;
/
